"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[458],{4126:function(t,e,r){r.d(e,{e:function(){return o}});var n=r(1087),u=r(5984),a=r(7689),c=r(184),o=function(t){var e=t.movies,r=(0,a.TH)(),o=e.map((function(t){var e=t.id,a=t.title,o=t.name;return(0,c.jsx)("li",{children:(0,c.jsx)(n.rU,{to:"/movies/".concat(e),state:{from:r},children:a||o})},e+(0,u.x0)())}));return(0,c.jsx)("ul",{children:o})}},5458:function(t,e,r){r.r(e),r.d(e,{default:function(){return h}});var n=r(3433),u=r(9439),a=(r(5462),r(8174)),c=r(2791),o=r(184),i=function(t){var e=t.onSearch,r=(0,c.useState)(""),n=(0,u.Z)(r,2),i=n[0],s=n[1];return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===i.trim())return a.Am.error("your search is empty, try again",{theme:"colored"});e(i),s("")},children:[(0,o.jsx)("input",{type:"text",name:"searchQuery",value:i,autoComplete:"off",autoFocus:!0,placeholder:"Search ...",onChange:function(t){s(t.target.value.toLowerCase())}}),(0,o.jsx)("button",{type:"submit",children:"Search"})]})})},s=r(1087),f=r(409),p=r(4126),h=function(){var t=(0,c.useState)([]),e=(0,u.Z)(t,2),r=e[0],h=e[1],v=(0,c.useState)("idle"),d=(0,u.Z)(v,2),l=(d[0],d[1]),m=(0,c.useState)(!1),g=(0,u.Z)(m,2),x=g[0],y=g[1],w=(0,s.lr)(),b=(0,u.Z)(w,2),Z=b[0],j=b[1],S=Z.get("query");(0,c.useEffect)((function(){S&&(l("pending"),(0,f.z1)(S).then((function(t){if(h((0,n.Z)(t)),l("resolved"),0===t.length)return h([]),a.Am.error("it`s nothing have found, try again",{theme:"colored"})})).catch((function(t){y(t),l("rejected")})))}),[S,x]);return(0,o.jsxs)("div",{children:[(0,o.jsx)(i,{onSearch:function(t){j({query:t}),h([])}}),r.length>0&&(0,o.jsx)(p.e,{movies:r})]})}},409:function(t,e,r){r.d(e,{Df:function(){return o},IQ:function(){return f},Jh:function(){return p},Yp:function(){return i},z1:function(){return s}});var n=r(5861),u=r(7757),a=r.n(u),c=r(1912).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"42198471976a286e57d85c87e47247c5",_limit:20}}),o=function(){var t=(0,n.Z)(a().mark((function t(){var e,r,n,u=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:1,t.next=3,c.get("/trending/movie/day?",{params:{page:e}});case 3:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("/movie/".concat(e));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("/search/movie",{params:{query:e}});case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("/movie/".concat(e,"/credits"));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.cast);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("/movie/".concat(e,"/reviews"));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},5984:function(t,e,r){r.d(e,{x0:function(){return n}});var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=458.faa473b7.chunk.js.map